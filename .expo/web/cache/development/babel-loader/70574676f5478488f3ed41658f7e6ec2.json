{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/jangsohyeon/Desktop/EarthUsApp/node_modules/react-navigation-header-buttons/src/OverflowButton.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport UIManager from \"react-native-web/dist/exports/UIManager\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActionSheetIOS from \"react-native-web/dist/exports/ActionSheetIOS\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { HeaderButton } from \"./HeaderButton\";\nexport var IS_IOS = Platform.OS === 'ios';\nexport var OverflowButton = function (_React$Component) {\n  _inherits(OverflowButton, _React$Component);\n\n  function OverflowButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, OverflowButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(OverflowButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.setOverflowRef = function (ref) {\n      _this.overflowRef = ref;\n    };\n\n    _this.showOverflowPopup = function () {\n      var _this$props = _this.props,\n          onOverflowMenuPress = _this$props.onOverflowMenuPress,\n          hiddenButtons = _this$props.hiddenButtons;\n\n      if (onOverflowMenuPress) {\n        onOverflowMenuPress({\n          hiddenButtons: hiddenButtons\n        });\n      } else {\n        IS_IOS ? _this.showPopupIos() : _this.showPopupAndroid();\n      }\n    };\n\n    _this.onHiddenItemPress = function (eventName, index) {\n      if (eventName !== 'itemSelected') return;\n\n      _this.props.hiddenButtons[index].props.onPress();\n    };\n\n    return _this;\n  }\n\n  _createClass(OverflowButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          OverflowIcon = _this$props2.OverflowIcon,\n          buttonWrapperStyle = _this$props2.buttonWrapperStyle;\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        }\n      }, React.createElement(View, {\n        ref: this.setOverflowRef,\n        style: styles.overflowMenuView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        }\n      }), React.createElement(HeaderButton, {\n        onPress: this.showOverflowPopup,\n        ButtonElement: OverflowIcon,\n        buttonWrapperStyle: [styles.icon, buttonWrapperStyle],\n        testID: \"headerOverflowButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        }\n      }));\n    }\n  }, {\n    key: \"showPopupAndroid\",\n    value: function showPopupAndroid() {\n      UIManager.showPopupMenu(findNodeHandle(this.overflowRef), this.props.hiddenButtons.map(function (btn) {\n        return btn.props.title;\n      }), function (err) {\n        console.debug(\"popup error \" + err);\n      }, this.onHiddenItemPress);\n    }\n  }, {\n    key: \"showPopupIos\",\n    value: function showPopupIos() {\n      var _this2 = this;\n\n      var actionTitles = this.props.hiddenButtons.map(function (btn) {\n        return btn.props.title;\n      });\n      actionTitles.push(this.props.cancelButtonLabel);\n      ActionSheetIOS.showActionSheetWithOptions({\n        options: actionTitles,\n        cancelButtonIndex: actionTitles.length - 1\n      }, function (buttonIndex) {\n        if (buttonIndex !== actionTitles.length - 1) {\n          _this2.onHiddenItemPress('itemSelected', buttonIndex);\n        }\n      });\n    }\n  }]);\n\n  return OverflowButton;\n}(React.Component);\nOverflowButton.defaultProps = {\n  color: 'grey',\n  cancelButtonLabel: 'Cancel'\n};\nvar styles = StyleSheet.create({\n  overflowMenuView: {\n    position: 'absolute',\n    top: -10,\n    right: 0,\n    backgroundColor: 'transparent',\n    width: 1,\n    height: 1\n  },\n  icon: _objectSpread({\n    marginTop: 2\n  }, Platform.select({\n    android: {\n      marginRight: 9,\n      marginLeft: 7\n    }\n  }))\n});","map":{"version":3,"sources":["/Users/jangsohyeon/Desktop/EarthUsApp/node_modules/react-navigation-header-buttons/src/OverflowButton.js"],"names":["React","HeaderButton","IS_IOS","Platform","OS","OverflowButton","setOverflowRef","ref","overflowRef","showOverflowPopup","props","onOverflowMenuPress","hiddenButtons","showPopupIos","showPopupAndroid","onHiddenItemPress","eventName","index","onPress","OverflowIcon","buttonWrapperStyle","styles","overflowMenuView","icon","UIManager","showPopupMenu","findNodeHandle","map","btn","title","err","console","debug","actionTitles","push","cancelButtonLabel","ActionSheetIOS","showActionSheetWithOptions","options","cancelButtonIndex","length","buttonIndex","Component","defaultProps","color","StyleSheet","create","position","top","right","backgroundColor","width","height","marginTop","select","android","marginRight","marginLeft"],"mappings":"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","sourcesContent":["/*\n* @flow\n*/\nimport * as React from 'react';\nimport {\n  View,\n  UIManager,\n  findNodeHandle,\n  StyleSheet,\n  ActionSheetIOS,\n  Platform,\n} from 'react-native';\nimport { HeaderButton } from './HeaderButton';\nimport type { StyleObj } from 'react-native/Libraries/StyleSheet/StyleSheetTypes';\n\nexport const IS_IOS = Platform.OS === 'ios';\n\nexport type OverflowButtonProps = {\n  OverflowIcon?: React.Element<*>,\n  cancelButtonLabel: string,\n  onOverflowMenuPress?: ({ hiddenButtons: Array<React.Element<*>> }) => any,\n};\n\ntype Props = {\n  hiddenButtons: Array<React.Element<*>>,\n  color: string,\n  buttonWrapperStyle?: StyleObj,\n  ...$Exact<OverflowButtonProps>,\n};\n\nexport class OverflowButton extends React.Component<Props> {\n  overflowRef: ?View;\n  static defaultProps = {\n    color: 'grey',\n    cancelButtonLabel: 'Cancel',\n  };\n\n  setOverflowRef = (ref: ?View) => {\n    this.overflowRef = ref;\n  };\n\n  render() {\n    const { OverflowIcon, buttonWrapperStyle } = this.props;\n    return (\n      <View>\n        <View ref={this.setOverflowRef} style={styles.overflowMenuView} />\n        <HeaderButton\n          onPress={this.showOverflowPopup}\n          ButtonElement={OverflowIcon}\n          buttonWrapperStyle={[styles.icon, buttonWrapperStyle]}\n          testID=\"headerOverflowButton\"\n        />\n      </View>\n    );\n  }\n\n  showOverflowPopup = () => {\n    const { onOverflowMenuPress, hiddenButtons } = this.props;\n    if (onOverflowMenuPress) {\n      onOverflowMenuPress({ hiddenButtons });\n    } else {\n      IS_IOS ? this.showPopupIos() : this.showPopupAndroid();\n    }\n  };\n\n  showPopupAndroid() {\n    UIManager.showPopupMenu(\n      findNodeHandle(this.overflowRef),\n      this.props.hiddenButtons.map(btn => btn.props.title),\n      err => {\n        console.debug(`popup error ${err}`);\n      },\n      this.onHiddenItemPress\n    );\n  }\n\n  onHiddenItemPress = (eventName: string, index: number) => {\n    if (eventName !== 'itemSelected') return;\n    this.props.hiddenButtons[index].props.onPress();\n  };\n\n  showPopupIos() {\n    let actionTitles = this.props.hiddenButtons.map(btn => btn.props.title);\n    actionTitles.push(this.props.cancelButtonLabel);\n\n    ActionSheetIOS.showActionSheetWithOptions(\n      {\n        options: actionTitles,\n        cancelButtonIndex: actionTitles.length - 1,\n      },\n      (buttonIndex: number) => {\n        if (buttonIndex !== actionTitles.length - 1) {\n          this.onHiddenItemPress('itemSelected', buttonIndex);\n        }\n      }\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  overflowMenuView: {\n    position: 'absolute',\n    top: -10,\n    // TODO android actually has a little gap on the right of the menu\n    right: 0,\n    backgroundColor: 'transparent',\n    width: 1,\n    height: 1,\n  },\n  icon: {\n    marginTop: 2,\n    ...Platform.select({\n      android: {\n        marginRight: 9,\n        marginLeft: 7,\n      },\n    }),\n  },\n});\n"]},"metadata":{},"sourceType":"module"}